

.wp-block-crown-blocks-container.alignfull,
.wp-block-crown-blocks-container-featured-image.alignfull,
.wp-block-crown-blocks-promo.alignfull,
.wp-block-crown-blocks-call-to-action.alignfull {
	+ .wp-block-crown-blocks-container.alignfull,
	+ .wp-block-crown-blocks-container-featured-image.alignfull,
	+ .wp-block-crown-blocks-promo.alignfull,
	+ .wp-block-crown-blocks-call-to-action.alignfull {
		margin-top: -1rem;
	}
}



/*	Container
---------------------------------------------------------*/

.wp-block-crown-blocks-container {
	&.text-color-light {
		color: #fff;
	}
	&.text-color-dark {
		color: $body-color;
	}
	&.alignwide {
		max-width: $container-effective-max-width;
		@media (min-width: #{(900px + rem-to-pix(map-get($container-padding-x, md) * 2))}) {
			margin-left: calc(((100vw - 900px) / -2) + #{rem-to-pix(map-get($container-padding-x, md))});
			margin-right: calc(((100vw - 900px) / -2) + #{rem-to-pix(map-get($container-padding-x, md))});
		}
		@include media-breakpoint-up(lg) {
			margin-left: calc(((100vw - 900px) / -2) + #{rem-to-pix(map-get($container-padding-x, lg))});
			margin-right: calc(((100vw - 900px) / -2) + #{rem-to-pix(map-get($container-padding-x, lg))});
		}
		@include media-breakpoint-up(xl) {
			margin-left: calc(((100vw - 900px) / -2) + #{rem-to-pix(map-get($container-padding-x, xl))});
			margin-right: calc(((100vw - 900px) / -2) + #{rem-to-pix(map-get($container-padding-x, xl))});
		}
		@media (min-width: #{($container-effective-max-width + rem-to-pix(map-get($container-padding-x, xl) * 2))}) {
			margin-left: ($container-effective-max-width - 900px) / -2;
			margin-right: ($container-effective-max-width - 900px) / -2;
		}
	}
	&.alignfull {
		margin-left: -#{map-get($container-padding-x, xs)};
		margin-right: -#{map-get($container-padding-x, xs)};
		@include media-breakpoint-up(sm) {
			margin-left: -#{map-get($container-padding-x, sm)};
			margin-right: -#{map-get($container-padding-x, sm)};
		}
		@include media-breakpoint-up(md) {
			margin-left: -#{map-get($container-padding-x, md)};
			margin-right: -#{map-get($container-padding-x, md)};
		}
		@media (min-width: #{(900px + map-get($container-padding-x-px, md) * 2)}) {
			margin-left: calc((100vw - 900px) / -2);
			margin-right: calc((100vw - 900px) / -2);
		}
		> .inner > .container-contents {
			@each $breakpoint, $padding-x in $container-padding-x {
				@include media-breakpoint-up($breakpoint, $grid-breakpoints) {
					padding-left: $padding-x;
					padding-right: $padding-x;
				}
			}
			padding-top: 40px;
			padding-bottom: 40px;
			@include media-breakpoint-up(md) {
				padding-top: 60px;
				padding-bottom: 60px;
			}
			@include media-breakpoint-up(lg) {
				padding-top: 80px;
				padding-bottom: 80px;
			}
			// @include media-breakpoint-up(xl) {
			// 	padding-top: 100px;
			// 	padding-bottom: 100px;
			// }
			> .inner {
				// max-width: $container-effective-max-width;
			}
		}
	}
	&.is-style-panel {
		border-radius: 3px;
		box-shadow: 0 0 20px fade-out(#000, .85);
	}
}


/*	Tabbed Content
---------------------------------------------------------*/

.wp-block-crown-blocks-tabbed-content {
	.text-color-light & {
		.slick-slider-nav .slick-dots button { color: $white; }
		.slick-slider-nav .slick-dots li:after { border-color: $white; }
	}
	.text-color-dark & {
		.slick-slider-nav .slick-dots button { color: $body-color; }
		.slick-slider-nav .slick-dots li:after { border-color: $body-color; }
	}
	.slick-slider-nav {
		margin-bottom: 3rem;
		.slick-dots {
			list-style: none;
			margin: 0 -1rem -1rem;
			padding: 0;
			display: flex;
			justify-content: center;
			align-items: flex-end;
			flex-wrap: wrap;
			@include media-breakpoint-up(lg) {
				margin: 0 -2rem -1rem;
			}
			li {
				margin: 0 1rem 1rem;
				position: relative;
				padding-bottom: 0.25rem + 0.25rem;
				@include media-breakpoint-up(lg) {
					margin: 0 2rem 1rem;
				}
				&.slick-active {
					&:after {
						left: 0;
						right: 0;
						opacity: 1;
					}
				}
				&:after {
					content: '';
					display: block;
					position: absolute;
					left: 50%;
					right: 50%;
					opacity: 0;
					bottom: 0;
					transition: left .2s ease-out, right .2s ease-out, opacity .2s;
					border-top: 0.25rem solid $body-color;
				}
			}
			button {
				border: none;
				padding: 0;
				background-color: transparent;
				font-size: 1.25rem;
				line-height: $line-height-sm;
				font-weight: 700;
				text-transform: uppercase;
				letter-spacing: 0.1em;
				outline: none;
				color: $body-color;
				.index,
				.indicator {
					display: none;
				}
			}
		}
	}
	.tabbed-content-tabs {
		> .inner {
			display: none;
			&.slick-initialized {
				display: block;
				.slick-slide {
					outline: none;
				}
				.tab-title {
					display: none;
				}
			}
		}
	}
}


/*	Gallery
---------------------------------------------------------*/

.wp-block-gallery {
	&.is-style-mosaic-8 {
		padding: 1px;
		.blocks-gallery-grid {
			display: grid;
			grid-template-columns: repeat(12, 1fr);
			grid-gap: 1px;
			width: 100%;
		}
		.blocks-gallery-item {
			margin: 0;
			width: auto;
			display: flex;
			position: relative;
			overflow: hidden;
			display: none;
			@for $i from 1 through 8 { &:nth-child(#{$i}) { display: flex; } }
			&:nth-child(1) { grid-column: span 4; grid-row: span 3; }
			&:nth-child(2) { grid-column: span 3; grid-row: span 4; }
			&:nth-child(3) { grid-column: span 5; grid-row: span 4; }
			&:nth-child(4) { grid-column: span 4; grid-row: span 8; }
			&:nth-child(5) { grid-column: span 4; grid-row: span 4; }
			&:nth-child(6) { grid-column: span 4; grid-row: span 4; }
			&:nth-child(7) { grid-column: span 3; grid-row: span 3; &:before { padding-top: percentage(1 / 3); } }
			&:nth-child(8) { grid-column: span 5; grid-row: span 3; &:before { padding-top: percentage(1 / 3); } }
			&:before {
				content: '';
				display: block;
				height: 0;
				flex: 0 0 0;
				padding-top: percentage(2 / 3);
			}
			figure {
				position: absolute;
				left: 0;
				right: 0;
				bottom: 0;
				top: 0;
				display: flex;
				align-items: center;
				justify-content: center;
				transition: opacity 1s, transform 1s ease-out;
				&.new {
					opacity: 0;
					transition-duration: 0s;
					transform: scale(1.1);
				}
			}
			a {
				width: 100%;
				height: 100%;
				flex: 1;
				object-fit: cover;
			}
			img {
				width: 100%;
				height: 100%;
				flex: 1;
				object-fit: cover;
			}
			figcaption {
				display: none;
			}
		}
	}
}


/*	Featured Client Story
---------------------------------------------------------*/

.wp-block-crown-blocks-featured-client-story {
	&.text-color-light {
		color: #fff;
	}
	&.text-color-dark {
		color: $body-color;
	}
	a {
		&:hover {
			> .inner:after {
				opacity: 1;
				right: 0;
			}
		}
		> .inner {
			overflow: hidden;
			&:after {
				@include media-breakpoint-up(lg) {
					@include icon(map-get($icomoon-icons, arrow-right-long), icomoon);
					flex: 1 1 auto;
					display: flex;
					align-items: center;
					justify-content: center;
					font-size: 2.5rem;
					position: relative;
					right: .5rem;
					opacity: 0;
					transition: right .2s ease-out, opacity .2s;
				}
			}
		}
	}
	h6 {
		font-family: $font-family-sans-serif-alt;
	}
}


/*	Featured Event
---------------------------------------------------------*/

.wp-block-crown-blocks-featured-event {
	&.text-color-light {
		color: #fff;
	}
	&.text-color-dark {
		color: $body-color;
	}
	a {
		&:hover {
			.entry-contents:after {
				opacity: 1;
				right: -0.5rem;
			}
		}
		.entry-contents {
			@include media-breakpoint-up(lg) {
				padding-right: 2rem;
				position: relative;
			}
			&:after {
				@include media-breakpoint-up(lg) {
					@include icon(map-get($icomoon-icons, arrow-right), icomoon);
					position: absolute;
					display: block;
					font-size: 1.5rem;
					right: 0rem;
					bottom: .25rem;
					opacity: 0;
					transition: right .2s ease-out, opacity .2s;
				}
			}
		}
	}
	.entry-label {
		font-family: $font-family-sans-serif-alt;
	}
	.entry-excerpt {
		font-family: $font-family-sans-serif-alt;
		line-height: $line-height-base;
	}
}


/*	Testimonial
---------------------------------------------------------*/

.wp-block-crown-blocks-testimonial {
	max-width: none;
	> .inner {
		@include media-breakpoint-up(lg) {
			display: flex;
		}
	}
	.testimonial-featured-image {
		@include media-breakpoint-up(lg) {
			flex: 0 0 45%;
			margin: 0;
			max-width: none;
			opacity: .75;
		}
		> .inner {
			background-color: $light-blue;
		}
		.image {
			@include media-breakpoint-up(lg) {
				mix-blend-mode: overlay;
				filter: grayscale(1);
			}
		}
	}
	.testimonial-contents {
		@include media-breakpoint-up(lg) {
			flex: 1 1 auto;
			align-self: center;
			margin-left: -15%;
			position: relative;
		}
	}
	.testimonial-title {
		border-color: $primary;
		@include media-breakpoint-up(md) {
			font-size: 2.5rem;
		}
	}
	.testimonial-quote {
		font-size: 1.5rem;
		line-height: $line-height-base;
		@include media-breakpoint-up(md) {
			font-size: 1.875rem;
		}
		@include media-breakpoint-up(lg) {
			position: relative;
		}
		&:before {
			@include media-breakpoint-up(lg) {
				content: 'â€œ';
				font-size: 5rem;
				line-height: 1;
				position: absolute;
				left: -4rem;
				top: 0;
				font-style: normal;
				font-weight: 700;
				font-family: $font-family-sans-serif;
			}
		}
	}
	.testimonial-source {
		@include media-breakpoint-up(lg) {
			font-size: 1.25rem;
			margin-top: 1rem;
		}
	}
}


/*	Testimonial Slider
---------------------------------------------------------*/

.wp-block-crown-blocks-testimonial-slider {
	&.has-link {
		.slick-slide .wp-block-crown-blocks-testimonial .testimonial-contents {
			@include media-breakpoint-up(lg) {
				margin-bottom: 7rem;
			}
		}
	}
	> .inner {
		position: relative;
	}
	.testimonial-slider-title {
		@include media-breakpoint-up(lg) {
			margin-bottom: -5rem;
			position: relative;
			z-index: 1000;
		}
	}
	.slick-slider-nav {
		display: flex;
		align-items: center;
		position: absolute;
		right: 0;
		z-index: 1000;
		margin-top: 0.75rem;
		@include media-breakpoint-up(lg) {
			margin-top: 2rem;
		}
		.slick-arrow {
			width: 2.75rem;
			height: 2.75rem;
			overflow: hidden;
			padding: 0;
			border: none;
			outline: none;
			background-color: $light-blue;
			border-radius: 100rem;
			text-indent: -1000000px;
			position: relative;
			&.slick-prev {
				margin-right: .25rem;
				order: 1;
				&:before { transform: rotateY(180deg); }
			}
			&.slick-next {
				order: 3;
				margin-left: .25rem;
			}
			&:before {
				@include icon(map-get($icomoon-icons, arrow-right), icomoon);
				position: absolute;
				display: flex;
				align-items: center;
				justify-content: center;
				left: 0;
				top: 0;
				width: 100%;
				height: 100%;
				font-size: 1rem;
				line-height: 1;
				text-indent: 0;
			}
		}
		.status {
			order: 2;
			font-size: 1.125rem;
			line-height: $line-height-sm;
			min-width: 80px;
			text-align: center;
			.of {
				font-family: $font-family-serif;
				margin-right: .1em;
			}
		}
	}
	.testimonial-slider-testimonials {
		> .inner {
			display: none;
			&.slick-initialized {
				display: block;
			}
		}
	}
	.slick-slide {
		outline: none;
		.wp-block-crown-blocks-testimonial {
			> .inner {
				@include media-breakpoint-up(lg) {
					padding-top: 8rem;
				}
			}
			.testimonial-featured-image {
				@include media-breakpoint-up(lg) {
					margin-top: -8rem;
				}
			}
			.testimonial-contents {
				@include media-breakpoint-up(lg) {
					align-self: flex-start;
					display: flex;
					align-items: center;
				}
				&:before {
					@include media-breakpoint-up(lg) {
						content: '';
						display: block;
						width: 0;
						height: 0;
						padding-top: 38%;
					}
				}
				> .inner {
					@include media-breakpoint-up(lg) {
						width: 100%;
					}
				}
			}
		}
	}
	.testimonial-slider-link {
		margin-top: 1rem;
		margin-bottom: 0;
		@include media-breakpoint-up(lg) {
			text-align: right;
			margin-top: -5rem;
			position: relative;
			z-index: 1000;
		}
		a {
			@extend .btn;
			@extend .btn-blue;
			@include media-breakpoint-up(lg) {
				@include make-button-size(lg);
			}
		}
	}
}


/*	Content Slider
---------------------------------------------------------*/

.wp-block-crown-blocks-content-slider {
	.slick-slider {
		position: relative;
	}
	.slick-track {
		display: flex;
	}
	.slick-slide {
		display: flex;
		outline: none;
		height: auto;
		> .wp-block-crown-blocks-container {
			width: 100%;
			display: flex;
			align-items: center;
			> .inner {
				width: 100%;
			}
		}
	}
	.slick-dots {
		position: absolute;
		right: 1rem;
		bottom: 1rem;
		list-style: none;
		padding: 0;
		margin: 0;
		display: flex;
		@include media-breakpoint-up(lg) {
			right: 2rem;
			bottom: 2rem;
		}
		@include media-breakpoint-up(xl) {
			right: 2.5rem;
			bottom: 2.5rem;
		}
		li {
			&.slick-active button {
				opacity: 1;
				transform: scale(1.2);
			}
			+ li {
				margin-left: 0.625rem;
			}
		}
		button {
			background-color: #fff;
			padding: 0;
			border: none;
			outline: none;
			width: 1rem;
			height: 1rem;
			overflow: hidden;
			text-indent: -100000px;
			border-radius: 1rem;
			display: block;
			opacity: .5;
			transition: opacity .15s, transform .15s ease-out;
			&:hover {
				opacity: 1;
			}
		}
	}
}


/*	Featured Post Slider
---------------------------------------------------------*/

.wp-block-crown-blocks-featured-post-slider {
	margin-bottom: 2rem;
	.post-feed {
		> .inner {
			
		}
	}
	.post-feed > .slick-slider {
		position: relative;
		margin: 0;
		.slick-arrow {
			position: absolute;
			top: 100%;
			right: 0;
			margin-top: 2rem;
			overflow: hidden;
			text-indent: -100000px;
			border: none;
			outline: none;
			padding: 0;
			width: 2rem;
			height: 2rem;
			background-color: transparent;
			background-image: escape-svg(url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#{$primary}" class="bi bi-chevron-right" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/></svg>'));
			background-position: center;
			background-repeat: no-repeat;
			background-size: contain;
			opacity: .5;
			transition: opacity .15s;
			&:hover {
				opacity: 1;
			}
			&.slick-prev {
				right: 2rem;
				transform: rotateY(180deg);
			}
		}
		.slick-list {
			margin: 0 -1rem;
		}
	}
	article {
		padding: 0 1rem;
		outline: none;
		.entry-date {
			line-height: 1;
			margin-bottom: 1rem;
			> .inner {
				display: flex;
				align-items: center;
			}
			.month {
				font-size: 1.375rem;
				text-transform: uppercase;
				font-weight: 600;
				margin-right: 0.5rem;
			}
			.date {
				font-size: 3.125rem;
				font-weight: 700;
				font-family: $font-family-sans-serif-alt;
			}
			.line {
				display: block;
				margin-left: 1rem;
				flex: 1 1 auto;
				border-top: 4px solid $red;
			}
		}
		.entry-topics {
			margin-bottom: 1.5rem;
			.topic {
				display: inline-block;
				font-size: 0.875rem;
				line-height: $line-height-sm;
				padding: .25rem .75rem;
				border: 3px solid rgba($dark-gray, .75);
				border-radius: 10rem;
				text-transform: uppercase;
				letter-spacing: .1em;
				font-family: $font-family-sans-serif-alt;
				color: rgba($dark-gray, .6);
				font-weight: 700;
			}
		}
		.entry-title {
			font-size: 1.75;
			font-weight: 400;
			a {
				color: inherit;
			}
		}
		.entry-link {
			margin-top: 1.5rem;
			margin-bottom: 0;
			a {
				@extend .btn;
				@extend .btn-link;
				@extend .btn-link-blue;
				@extend .btn-has-arrow-icon;
			}
		}
	}
	.block-link {
		margin-top: 2rem;
	}
}