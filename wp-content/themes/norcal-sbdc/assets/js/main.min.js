function getQueryStringValue(e){return unescape(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+escape(e).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))}function setCookie(e,t,n,a){a=void 0!==a?a:"/";var i,o="";n&&((i=new Date).setTime(i.getTime()+24*n*60*60*1e3),o="; expires="+i.toUTCString()),document.cookie=e+"="+(t||"")+o+"; path="+a}function getCookie(e){for(var t=e+"=",n=document.cookie.split(";"),a=0;a<n.length;a++){for(var i=n[a];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null}function padNumber(e,t){for(var n=""+e;n.length<t;)n="0"+n;return n}!function(o){var i,a=0;o(document).ready(function(){o.wptheme.initSiteAnnouncement(),o.wptheme.initHeader(),o.wptheme.initMobileMenu(),o.wptheme.initGalleries(),o.wptheme.initSliders(),o.wptheme.initModals(),o.wptheme.initOdometers(),o.wptheme.initSocialSharingLinks(),o.wptheme.initTabbedContentBlocks()}),o(window).load(function(){}),o.wptheme=((i={}).initSiteAnnouncement=function(){o(document).on("click","#site-announcement button.dismiss",function(e){var t=o("#site-announcement");t.removeClass("shown"),setTimeout(function(){t.addClass("active")},500),setCookie("site_announcement_"+t.data("announcement-id"),"dismissed",365)});function e(){var e,t=o("#site-announcement");t.length&&t.hasClass("active")&&(e=t.outerHeight(),t.css({marginTop:-e}))}var t=o("#site-announcement");t.length&&"dismissed"!=getCookie("site_announcement_"+t.data("announcement-id"))&&(t.addClass("active"),setTimeout(function(){t.addClass("shown")},500),e(),o(window).on("load resize",e))},i.initHeader=function(){var e=o("#header");o("#main-content").children().first().is(".wp-block-crown-blocks-container.text-color-light.alignfull")&&e.addClass("text-color-light"),e.addClass("loaded");e=function(){var a=o("body").width();o("#header-primary-navigation .sub-menu:not(.mega-sub-menu)").each(function(e,t){var n=o(t),t=n.parent().closest(".sub-menu").length;n.css({marginLeft:0}),t&&n.removeClass("drop-left"),n.offset().left+n.outerWidth()>a-10&&(t?n.addClass("drop-left"):n.css({marginLeft:a-(n.offset().left+n.outerWidth())-10+"px"}))})};e(),o(window).on("load",e),o(window).on("resize",e),o("#header-primary-navigation a").on("click",function(e){var t=o(this).closest(".menu-item"),n=o("> .sub-menu",t);o("#header-primary-navigation .menu-item.active").not(o(this).parents(".menu-item.active")).removeClass("active"),n.length&&!t.hasClass("active")&&(e.preventDefault(),t.addClass("active"))}),o(document).on("click",function(e){o(e.target).closest("#header-primary-navigation-menu").length||o("#header-primary-navigation .menu-item.active").removeClass("active")});e=function(){var e=o("#header"),t=o(window).scrollTop(),n=0;o("body").width()<601&&o("#wpadminbar").length&&(n+=o("#wpadminbar").outerHeight()),o("#site-announcement.active.shown").length&&(n+=o("#site-announcement.active.shown").outerHeight()),n<t&&!e.hasClass("is-sticky")?e.addClass("is-sticky"):t<=n&&e.hasClass("is-sticky")&&e.removeClass("is-sticky"),a<t&&n+300<t&&!o("#header-primary-navigation-menu > .menu-item.active").length&&!e.hasClass("is-minified")?e.addClass("is-minified"):t<=a&&e.hasClass("is-minified")&&e.removeClass("is-minified"),a=t};e(),o(window).on("load scroll",e)},i.initMobileMenu=function(){o(document).on("click","#mobile-menu-toggle",function(e){var t=o("body");t.is(".mobile-menu-active")?o(document).trigger("close-mobile-menu"):t.addClass("mobile-menu-active")}),o(document).on("touchstart","body.mobile-menu-active #page",function(e){o(e.target).closest("#mobile-menu-toggle").length||o(document).trigger("close-mobile-menu")}),o(document).on("close-mobile-menu",function(){o("body").removeClass("mobile-menu-active")}),o("#mobile-menu-primary-navigation .menu-item").each(function(e,t){var n=o(this);o("> .sub-menu",n).length&&(n.addClass("menu-item-has-sub-menu"),n.append('<button type="button" class="toggle">Toggle</button>'))}),o("#mobile-menu-primary-navigation").on("click","button.toggle",function(e){var t,n,a=o(this).closest(".menu-item"),i=o("> .sub-menu",a);a.hasClass("active")?(a.removeClass("active"),t=i.outerHeight(),n=0,i.css({height:t}),setTimeout(function(){i.css({height:n})},10)):(a.addClass("active"),t=i.outerHeight(),i.css({height:"auto"}),n=i.outerHeight(),i.css({height:t}),setTimeout(function(){i.css({height:n})},10),setTimeout(function(){i.css({height:"auto"})},210))}),o("#mobile-menu-primary-navigation .menu-item-has-sub-menu.current-menu-item, #mobile-menu-primary-navigation .menu-item-has-sub-menu.current-menu-ancestor").each(function(e,t){o("> .toggle",t).trigger("click")})},i.initGalleries=function(){},i.initSliders=function(){},i.initModals=function(){o(document).on("click","a",function(e){var t;o(this).attr("href")&&(matches=o(this).attr("href").match(/^#case-study-modal-(\d+)$/))&&(e.preventDefault(),(t=o(o(this).attr("href")+".modal")).length?t.modal():(e=parseInt(matches[1]),(t=o('<div class="modal fade case-study"><div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-body"></div></div></div></div>')).attr("id","case-study-modal-"+e),t.addClass("loading"),o(".modal-content",t).prepend('<div class="modal-header"><button type="button" class="close" data-dismiss="modal"><span>&times;</span></button></div>'),o(".modal-body",t).html('<div class="spinner-border text-primary" role="status"><span class="sr-only">Loading...</span></div>'),o("body").append(t),t.modal(),o.get(crownThemeData.ajaxUrl,{action:"the_case_study",id:e},function(e){var t=o("#case-study-modal-"+e.id);t.length&&(t.removeClass("loading"),o(".modal-body",t).html(e.html),o("article.has-photos",t).length&&t.addClass("has-photos"),setTimeout(function(){var e;o("article.has-multiple-photos",t).length&&((e=o(".entry-photos .slider",t)).hasClass("slick-initialized")||e.slick({mobileFirst:!0,draggable:!1,dots:!1,arrows:!0,fade:!1,autoplay:!1}))},500),setTimeout(function(){o(window).trigger("resize")},1e3))},"json")))}),o(document).on("click","a",function(e){var t;o(this).attr("href")&&(matches=o(this).attr("href").match(/^#team-member-modal-(\d+)$/))&&(e.preventDefault(),(t=o(o(this).attr("href")+".modal")).length?t.modal():(e=parseInt(matches[1]),(t=o('<div class="modal fade team-member"><div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-body"></div></div></div></div>')).attr("id","team-member-modal-"+e),t.addClass("loading"),o(".modal-content",t).prepend('<div class="modal-header"><button type="button" class="close" data-dismiss="modal"><span>&times;</span></button></div>'),o(".modal-body",t).html('<div class="spinner-border text-primary" role="status"><span class="sr-only">Loading...</span></div>'),o("body").append(t),t.modal(),o.get(crownThemeData.ajaxUrl,{action:"the_team_member",id:e},function(e){var t=o("#team-member-modal-"+e.id);t.length&&(t.removeClass("loading"),o(".modal-body",t).html(e.html))},"json")))})},i.initOdometers=function(){o(".odometer-statistic").each(function(e,t){var n,a,i=o(".stat-value",t);o(t).addClass("fade-in"),i.length&&(matches=i.text().match(/([^\d]*)([\d\.,]+)(.*)/))&&(i.data("odometer-final-value",matches[2]),n=o('<span class="pre">'+matches[1]+"</span>"),a=o('<span class="odometer">'+matches[2]+"</span>"),t=o('<span class="post">'+matches[3]+"</span>"),i.html(""),i.append(n).append(a).append(t),new Odometer({el:a[0],value:"0".padStart(5,0)}))});function e(){var a=o(window).scrollTop(),i=o(window).height();o(".odometer-statistic.fade-in:not(.animated)").each(function(e,t){var n=o(".stat-value",t);n.offset().top<=a+.9*i&&(o(t).addClass("animated"),o(".odometer",n).text(n.data("odometer-final-value")))})}e(),o(window).on("load scroll",e)},i.initSocialSharingLinks=function(){o(document).on("click",".social-sharing-links a",function(e){var t,n,a=o(this).parent();a.parent();a.hasClass("print")?(e.preventDefault(),window.print()):a.is(".facebook, .twitter, .linkedin, .google-plus, .pinterest, .houzz")&&(e.preventDefault(),t=600,n=400,a.hasClass("google-plus")&&(t=512),a.hasClass("pinterest")&&(t=750),a.hasClass("houzz")&&(t=800,n=460),e=screen.height/2-n/2-.1*screen.height,a=screen.width/2-t/2,window.open(o(this).attr("href"),"Share Link","top="+e+",left="+a+",toolbar=0,status=0,width="+t+",height="+n))})},i.initExpandableContentBlocks=function(){o(document).on("click",".wp-block-crown-blocks-expandable-content .expandable-content-toggle button",function(){var e=o(this).closest(".wp-block-crown-blocks-expandable-content"),t=o("> .inner > .expandable-content-contents",e);e.css({minHeight:e.outerHeight()}),e.addClass("expanded"),t.css({height:o("> .inner",t).outerHeight()}),setTimeout(function(){t.css({height:"auto"})},500)})},i.initTabbedContentBlocks=function(){o(".wp-block-crown-blocks-tabbed-content").each(function(e,t){var n,a=o(".tabbed-content-tabs > .inner",t);a.hasClass("slick-initialized")||(n=o('<div class="slick-slider-nav"></div>'),o(".tabbed-content-tabs",t).before(n),a.children().wrap("<div></div>"),n={mobileFirst:!0,draggable:!1,dots:!0,arrows:!1,fade:!0,appendDots:n,adaptiveHeight:!0,customPaging:function(e,t){var n=o("> .wp-block-crown-blocks-tabbed-content-tab > .inner > .tab-title",e.$slides[t]),e=n?n.text():"",n=o("<button></button");return n.append('<span class="index">'+padNumber(t+1,2)+"<span>"),""!=e&&n.append(' <span class="label">'+e+"<span>"),n.append(' <span class="indicator"><span></span></span>'),n}},a.slick(n))})},i.smoothScrollToElement=function(e,t,n){var a;t=void 0!==t?t:1e3,n=void 0!==n?n:0,0<e.length&&(a=parseInt(e.css("margin-top")),i.smoothScrollToPos(e.offset().top-(0<a?a:0),t,n))},i.smoothScrollToPos=function(e,t,n){t=void 0!==t?t:1e3,n=void 0!==n?n:0;o("html, body").stop(!0).animate({scrollTop:+e+n},t,"easeOutExpo")},i)}(jQuery);