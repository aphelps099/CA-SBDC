function getQueryStringValue(e){return unescape(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+escape(e).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))}function setCookie(e,t,n,a){a=void 0!==a?a:"/";var i,s="";n&&((i=new Date).setTime(i.getTime()+24*n*60*60*1e3),s="; expires="+i.toUTCString()),document.cookie=e+"="+(t||"")+s+"; path="+a}function getCookie(e){for(var t=e+"=",n=document.cookie.split(";"),a=0;a<n.length;a++){for(var i=n[a];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null}function padNumber(e,t){for(var n=""+e;n.length<t;)n="0"+n;return n}!function(s){var i,a=0;s(document).ready(function(){s.wptheme.initSiteAnnouncement(),s.wptheme.initHeader(),s.wptheme.initMobileMenu(),s.wptheme.initGalleries(),s.wptheme.initSliders(),s.wptheme.initModals(),s.wptheme.initOdometers(),s.wptheme.initSocialSharingLinks(),s.wptheme.initTabbedContentBlocks(),s.wptheme.initTestimonialSliderBlocks()}),s(window).load(function(){}),s.wptheme=((i={}).initSiteAnnouncement=function(){s(document).on("click","#site-announcement button.dismiss",function(e){var t=s("#site-announcement");t.removeClass("shown"),setTimeout(function(){t.addClass("active")},500),setCookie("site_announcement_"+t.data("announcement-id"),"dismissed",365)});function e(){var e,t=s("#site-announcement");t.length&&t.hasClass("active")&&(e=t.outerHeight(),t.css({marginTop:-e}))}var t=s("#site-announcement");t.length&&"dismissed"!=getCookie("site_announcement_"+t.data("announcement-id"))&&(t.addClass("active"),setTimeout(function(){t.addClass("shown")},500),e(),s(window).on("load resize",e))},i.initHeader=function(){var e=s("#header");s("#main-content").children().first().is(".wp-block-crown-blocks-container.text-color-light.alignfull")&&e.addClass("text-color-light"),e.addClass("loaded");e=function(){var a=s("body").width();s("#header-primary-navigation .sub-menu:not(.mega-sub-menu)").each(function(e,t){var n=s(t),t=n.parent().closest(".sub-menu").length;n.css({marginLeft:0}),t&&n.removeClass("drop-left"),n.offset().left+n.outerWidth()>a-10&&(t?n.addClass("drop-left"):n.css({marginLeft:a-(n.offset().left+n.outerWidth())-10+"px"}))})};e(),s(window).on("load",e),s(window).on("resize",e),s("#header-primary-navigation a").on("click",function(e){var t=s(this).closest(".menu-item"),n=s("> .sub-menu",t);s("#header-primary-navigation .menu-item.active").not(s(this).parents(".menu-item.active")).removeClass("active"),n.length&&!t.hasClass("active")&&(e.preventDefault(),t.addClass("active"))}),s(document).on("click",function(e){s(e.target).closest("#header-primary-navigation-menu").length||s("#header-primary-navigation .menu-item.active").removeClass("active")});e=function(){var e=s("#header"),t=s(window).scrollTop(),n=0;s("body").width()<601&&s("#wpadminbar").length&&(n+=s("#wpadminbar").outerHeight()),s("#site-announcement.active.shown").length&&(n+=s("#site-announcement.active.shown").outerHeight()),n<t&&!e.hasClass("is-sticky")?e.addClass("is-sticky"):t<=n&&e.hasClass("is-sticky")&&e.removeClass("is-sticky"),a<t&&n+300<t&&!s("#header-primary-navigation-menu > .menu-item.active").length&&!e.hasClass("is-minified")?e.addClass("is-minified"):t<=a&&e.hasClass("is-minified")&&e.removeClass("is-minified"),a=t};e(),s(window).on("load scroll",e)},i.initMobileMenu=function(){s(document).on("click","#mobile-menu-toggle",function(e){var t=s("body");t.is(".mobile-menu-active")?s(document).trigger("close-mobile-menu"):t.addClass("mobile-menu-active")}),s(document).on("touchstart","body.mobile-menu-active #page",function(e){s(e.target).closest("#mobile-menu-toggle").length||s(document).trigger("close-mobile-menu")}),s(document).on("close-mobile-menu",function(){s("body").removeClass("mobile-menu-active")}),s("#mobile-menu-primary-navigation .menu-item").each(function(e,t){var n=s(this);s("> .sub-menu",n).length&&(n.addClass("menu-item-has-sub-menu"),n.append('<button type="button" class="toggle">Toggle</button>'))}),s("#mobile-menu-primary-navigation").on("click","button.toggle",function(e){var t,n,a=s(this).closest(".menu-item"),i=s("> .sub-menu",a);a.hasClass("active")?(a.removeClass("active"),t=i.outerHeight(),n=0,i.css({height:t}),setTimeout(function(){i.css({height:n})},10)):(a.addClass("active"),t=i.outerHeight(),i.css({height:"auto"}),n=i.outerHeight(),i.css({height:t}),setTimeout(function(){i.css({height:n})},10),setTimeout(function(){i.css({height:"auto"})},210))}),s("#mobile-menu-primary-navigation .menu-item-has-sub-menu.current-menu-item, #mobile-menu-primary-navigation .menu-item-has-sub-menu.current-menu-ancestor").each(function(e,t){s("> .toggle",t).trigger("click")})},i.initGalleries=function(){},i.initSliders=function(){},i.initModals=function(){s(document).on("click","a",function(e){var t;s(this).attr("href")&&(matches=s(this).attr("href").match(/^#case-study-modal-(\d+)$/))&&(e.preventDefault(),(t=s(s(this).attr("href")+".modal")).length?t.modal():(e=parseInt(matches[1]),(t=s('<div class="modal fade case-study"><div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-body"></div></div></div></div>')).attr("id","case-study-modal-"+e),t.addClass("loading"),s(".modal-content",t).prepend('<div class="modal-header"><button type="button" class="close" data-dismiss="modal"><span>&times;</span></button></div>'),s(".modal-body",t).html('<div class="spinner-border text-primary" role="status"><span class="sr-only">Loading...</span></div>'),s("body").append(t),t.modal(),s.get(crownThemeData.ajaxUrl,{action:"the_case_study",id:e},function(e){var t=s("#case-study-modal-"+e.id);t.length&&(t.removeClass("loading"),s(".modal-body",t).html(e.html),s("article.has-photos",t).length&&t.addClass("has-photos"),setTimeout(function(){var e;s("article.has-multiple-photos",t).length&&((e=s(".entry-photos .slider",t)).hasClass("slick-initialized")||e.slick({mobileFirst:!0,draggable:!1,dots:!1,arrows:!0,fade:!1,autoplay:!1}))},500),setTimeout(function(){s(window).trigger("resize")},1e3))},"json")))}),s(document).on("click","a",function(e){var t;s(this).attr("href")&&(matches=s(this).attr("href").match(/^#team-member-modal-(\d+)$/))&&(e.preventDefault(),(t=s(s(this).attr("href")+".modal")).length?t.modal():(e=parseInt(matches[1]),(t=s('<div class="modal fade team-member"><div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-body"></div></div></div></div>')).attr("id","team-member-modal-"+e),t.addClass("loading"),s(".modal-content",t).prepend('<div class="modal-header"><button type="button" class="close" data-dismiss="modal"><span>&times;</span></button></div>'),s(".modal-body",t).html('<div class="spinner-border text-primary" role="status"><span class="sr-only">Loading...</span></div>'),s("body").append(t),t.modal(),s.get(crownThemeData.ajaxUrl,{action:"the_team_member",id:e},function(e){var t=s("#team-member-modal-"+e.id);t.length&&(t.removeClass("loading"),s(".modal-body",t).html(e.html))},"json")))})},i.initOdometers=function(){s(".odometer-statistic").each(function(e,t){var n,a,i=s(".stat-value",t);s(t).addClass("fade-in"),i.length&&(matches=i.text().match(/([^\d]*)([\d\.,]+)(.*)/))&&(i.data("odometer-final-value",matches[2]),n=s('<span class="pre">'+matches[1]+"</span>"),a=s('<span class="odometer">'+matches[2]+"</span>"),t=s('<span class="post">'+matches[3]+"</span>"),i.html(""),i.append(n).append(a).append(t),new Odometer({el:a[0],value:"0".padStart(5,0)}))});function e(){var a=s(window).scrollTop(),i=s(window).height();s(".odometer-statistic.fade-in:not(.animated)").each(function(e,t){var n=s(".stat-value",t);n.offset().top<=a+.9*i&&(s(t).addClass("animated"),s(".odometer",n).text(n.data("odometer-final-value")))})}e(),s(window).on("load scroll",e)},i.initSocialSharingLinks=function(){s(document).on("click",".social-sharing-links a",function(e){var t,n,a=s(this).parent();a.parent();a.hasClass("print")?(e.preventDefault(),window.print()):a.is(".facebook, .twitter, .linkedin, .google-plus, .pinterest, .houzz")&&(e.preventDefault(),t=600,n=400,a.hasClass("google-plus")&&(t=512),a.hasClass("pinterest")&&(t=750),a.hasClass("houzz")&&(t=800,n=460),e=screen.height/2-n/2-.1*screen.height,a=screen.width/2-t/2,window.open(s(this).attr("href"),"Share Link","top="+e+",left="+a+",toolbar=0,status=0,width="+t+",height="+n))})},i.initExpandableContentBlocks=function(){s(document).on("click",".wp-block-crown-blocks-expandable-content .expandable-content-toggle button",function(){var e=s(this).closest(".wp-block-crown-blocks-expandable-content"),t=s("> .inner > .expandable-content-contents",e);e.css({minHeight:e.outerHeight()}),e.addClass("expanded"),t.css({height:s("> .inner",t).outerHeight()}),setTimeout(function(){t.css({height:"auto"})},500)})},i.initTabbedContentBlocks=function(){s(".wp-block-crown-blocks-tabbed-content").each(function(e,t){var n,a=s(".tabbed-content-tabs > .inner",t);a.hasClass("slick-initialized")||(n=s('<div class="slick-slider-nav"></div>'),s(".tabbed-content-tabs",t).before(n),a.children().wrap("<div></div>"),n={mobileFirst:!0,draggable:!1,dots:!0,arrows:!1,fade:!0,appendDots:n,adaptiveHeight:!0,customPaging:function(e,t){var n=s("> .wp-block-crown-blocks-tabbed-content-tab > .inner > .tab-title",e.$slides[t]),e=n?n.text():"",n=s("<button></button");return n.append('<span class="index">'+padNumber(t+1,2)+"<span>"),""!=e&&n.append(' <span class="label">'+e+"<span>"),n.append(' <span class="indicator"><span></span></span>'),n}},a.slick(n))})},i.initTestimonialSliderBlocks=function(){s(".wp-block-crown-blocks-testimonial-slider").each(function(e,t){var n,a=s(".testimonial-slider-testimonials > .inner",t);a.hasClass("slick-initialized")||(n=s('<div class="slick-slider-nav"></div>'),s(".testimonial-slider-testimonials",t).before(n),a.children().wrap("<div></div>"),n={mobileFirst:!0,draggable:!1,dots:!1,arrows:!0,fade:!0,appendArrows:n,adaptiveHeight:!0},a.on("init",function(e,t){var n=t.$slider.closest(".wp-block-crown-blocks-testimonial-slider"),n=s(".slick-slider-nav",n);s(".status",n).remove(),1<t.slideCount&&n.append('<span class="status"><span class="current">'+(t.currentSlide+1)+'</span> <span class="of">of</span> <span class="total">'+t.slideCount+"</span></span>")}).on("beforeChange",function(e,t,n,a){var i=t.$slider.closest(".wp-block-crown-blocks-testimonial-slider"),i=s(".slick-slider-nav",i);s(".status",i).remove(),1<t.slideCount&&i.append('<span class="status"><span class="current">'+(a+1)+'</span> <span class="of">of</span> <span class="total">'+t.slideCount+"</span></span>")}).slick(n))})},i.smoothScrollToElement=function(e,t,n){var a;t=void 0!==t?t:1e3,n=void 0!==n?n:0,0<e.length&&(a=parseInt(e.css("margin-top")),i.smoothScrollToPos(e.offset().top-(0<a?a:0),t,n))},i.smoothScrollToPos=function(e,t,n){t=void 0!==t?t:1e3,n=void 0!==n?n:0;s("html, body").stop(!0).animate({scrollTop:+e+n},t,"easeOutExpo")},i)}(jQuery);