function getQueryStringValue(e){return unescape(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+escape(e).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))}function setCookie(e,t,a,i){i=void 0!==i?i:"/";var o,s="";a&&((o=new Date).setTime(o.getTime()+24*a*60*60*1e3),s="; expires="+o.toUTCString()),document.cookie=e+"="+(t||"")+s+"; path="+i}function getCookie(e){for(var t=e+"=",a=document.cookie.split(";"),i=0;i<a.length;i++){for(var o=a[i];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null}function padNumber(e,t){for(var a=""+e;a.length<t;)a="0"+a;return a}!function(l){var o,i=0;l(document).ready(function(){l.wptheme.initSiteAnnouncement(),l.wptheme.initHeader(),l.wptheme.initMobileMenu(),l.wptheme.initGalleries(),l.wptheme.initSliders(),l.wptheme.initModals(),l.wptheme.initOdometers(),l.wptheme.initExpandableContent(),l.wptheme.initCoreValuesBlocks(),l.wptheme.initCaseStudyIndexBlocks(),l.wptheme.initTeamMemberIndexBlocks()}),l(window).load(function(){}),l.wptheme=((o={}).initSiteAnnouncement=function(){l(document).on("click","#site-announcement button.dismiss",function(e){var t=l("#site-announcement");t.removeClass("shown"),setTimeout(function(){t.addClass("active")},500),setCookie("site_announcement_"+t.data("announcement-id"),"dismissed",365)});function e(){var e,t=l("#site-announcement");t.length&&t.hasClass("active")&&(e=t.outerHeight(),t.css({marginTop:-e}))}var t=l("#site-announcement");t.length&&"dismissed"!=getCookie("site_announcement_"+t.data("announcement-id"))&&(t.addClass("active"),setTimeout(function(){t.addClass("shown")},500),e(),l(window).on("load resize",e))},o.initHeader=function(){var e=l("#header");l("#main-content > .wp-block-crown-blocks-container.alignfull").hasClass("text-color-light")&&e.addClass("text-color-light"),e.addClass("loaded");e=function(){var i=l("body").width();l("#header-primary-navigation .sub-menu:not(.mega-sub-menu)").each(function(e,t){var a=l(t),t=a.parent().closest(".sub-menu").length;a.css({marginLeft:0}),t&&a.removeClass("drop-left"),a.offset().left+a.outerWidth()>i-10&&(t?a.addClass("drop-left"):a.css({marginLeft:i-(a.offset().left+a.outerWidth())-10+"px"}))})};e(),l(window).on("load",e),l(window).on("resize",e),l("#header-primary-navigation a").on("click",function(e){var t=l(this).closest(".menu-item"),a=l("> .sub-menu",t);l("#header-primary-navigation .menu-item.active").not(l(this).parents(".menu-item.active")).removeClass("active"),a.length&&!t.hasClass("active")&&(e.preventDefault(),t.addClass("active"))}),l(document).on("click",function(e){l(e.target).closest("#header-primary-navigation-menu").length||l("#header-primary-navigation .menu-item.active").removeClass("active")});e=function(){var e=l("#header"),t=l(window).scrollTop(),a=0;l("body").width()<601&&l("#wpadminbar").length&&(a+=l("#wpadminbar").outerHeight()),l("#site-announcement.active.shown").length&&(a+=l("#site-announcement.active.shown").outerHeight()),a<t&&!e.hasClass("is-sticky")?e.addClass("is-sticky"):t<=a&&e.hasClass("is-sticky")&&e.removeClass("is-sticky"),i<t&&a+300<t&&!l("#header-primary-navigation-menu > .menu-item.active").length&&!e.hasClass("is-minified")?e.addClass("is-minified"):t<=i&&e.hasClass("is-minified")&&e.removeClass("is-minified"),i=t};e(),l(window).on("load scroll",e)},o.initMobileMenu=function(){l(document).on("click","#mobile-menu-toggle",function(e){var t=l("body");t.is(".mobile-menu-active")?l(document).trigger("close-mobile-menu"):t.addClass("mobile-menu-active")}),l(document).on("touchstart","body.mobile-menu-active #page",function(e){l(e.target).closest("#mobile-menu-toggle").length||l(document).trigger("close-mobile-menu")}),l(document).on("close-mobile-menu",function(){l("body").removeClass("mobile-menu-active")}),l("#mobile-menu-primary-navigation .menu-item").each(function(e,t){var a=l(this);l("> .sub-menu",a).length&&(a.addClass("menu-item-has-sub-menu"),a.append('<button type="button" class="toggle">Toggle</button>'))}),l("#mobile-menu-primary-navigation").on("click","button.toggle",function(e){var t,a,i=l(this).closest(".menu-item"),o=l("> .sub-menu",i);i.hasClass("active")?(i.removeClass("active"),t=o.outerHeight(),a=0,o.css({height:t}),setTimeout(function(){o.css({height:a})},10)):(i.addClass("active"),t=o.outerHeight(),o.css({height:"auto"}),a=o.outerHeight(),o.css({height:t}),setTimeout(function(){o.css({height:a})},10),setTimeout(function(){o.css({height:"auto"})},210))}),l("#mobile-menu-primary-navigation .menu-item-has-sub-menu.current-menu-item, #mobile-menu-primary-navigation .menu-item-has-sub-menu.current-menu-ancestor").each(function(e,t){l("> .toggle",t).trigger("click")})},o.initCTAs=function(){l(document).on("click","#footer .call-to-action button.contact-form-toggle",function(e){e.preventDefault(),o.openPrimaryCtaModal()}),l(document).on("click","a",function(e){var t;"#"==l(this).attr("href").substr(0,1)&&1<l(this).attr("href").length&&("#primary-cta-modal"==l(this).attr("href")?o.openPrimaryCtaModal():(t=l(l(this).attr("href"))).length&&t.hasClass("modal")&&(e.preventDefault(),t.modal({})))}),l(document).on("click",".wp-block-crown-blocks-call-to-action button.contact-form-toggle",function(e){e.preventDefault();var t,e=l(this).closest(".wp-block-crown-blocks-call-to-action");"modal"==l(this).data("toggle")&&(l(this).data("target")?(t=l(l(this).data("target"))).modal({}):(t=l(".modal",e)).length&&((e=t.attr("id"))||(e="call-to-action-modal-"+(new Date).getTime(),t.attr("id",e)),l("body").append(t),l(this).data("toggle","modal").data("target","#"+e),t.modal({})))});var e=l("#site-sticky-cta");e.length&&(getCookie("sticky-cta-"+e.data("hash")+"-dismissed")||e.addClass("enabled")),l(document).on("click","#site-sticky-cta button.cta-dismiss",function(e){var t=l("#site-sticky-cta");t.addClass("dismissed"),setCookie("sticky-cta-"+t.data("hash")+"-dismissed",1,30)}),l(window).on("scroll",function(e){400<l(window).scrollTop()&&l("#site-sticky-cta.enabled:not(.active)").addClass("active")}),l(document).on("click","#site-sticky-cta button.contact-form-toggle",function(e){e.preventDefault();var t,e=l(this).closest("#site-sticky-cta");l(this).data("target")?(t=l(l(this).data("target"))).modal({}):(t=l(".modal",e)).length&&((e=t.attr("id"))||(e="call-to-action-modal-"+(new Date).getTime(),t.attr("id",e)),l("body").append(t),l(this).data("toggle","modal").data("target","#"+e),t.modal({}))})},o.openPrimaryCtaModal=function(){var e,t=l("#footer .call-to-action"),a=l("button.contact-form-toggle",t);a.length&&(a.data("target")?(e=l(a.data("target"))).modal({}):(e=l(".modal",t)).length&&((t=e.attr("id"))||(t="call-to-action-modal-"+(new Date).getTime(),e.attr("id",t)),l("body").append(e),a.data("toggle","modal").data("target","#"+t),e.modal({})))},o.initGalleries=function(){function e(e){var t=l(this).closest(".entry-photos").find(".image").not(".slick-cloned"),a=[],i=0;t.each(function(e,t){a.push({title:l(".caption",t).length?l(".caption",t).text():"",href:l("img.large",t).attr("src"),thumbnail:l("img.thumbnail",t).attr("src")}),l(t).hasClass("slick-current")&&(i=e)}),blueimp.Gallery(a,{index:i})}l(document).on("click",".wp-block-crown-blocks-featured-case-studies article .entry-photos .expand-image",e),l(document).on("click",".wp-block-crown-blocks-case-study-index article .entry-photos .expand-image",e),l(document).on("click",".modal.case-study article .entry-photos .expand-image",e);function a(e){var t=void 0!==(t=e.data("currentSlide"))?t:0,a=l(".blocks-gallery-item",e),i=a.eq(5),o=a.eq(t);l("figure",i).addClass("new"),o.append(l("figure",i)),l(".blocks-gallery-grid",e).append(i),setTimeout(function(){l("figure",o).last().removeClass("new")},100),setTimeout(function(){i.append(l("figure",o).first())},1100),5<=++t&&(t=0),e.data("currentSlide",t)}l(".wp-block-gallery.is-style-mosaic-1").each(function(e,t){t=l(t);5<l(".blocks-gallery-item",t).length&&window.setInterval(a,3e3,t)})},o.initSliders=function(){l(".wp-block-crown-blocks-recent-posts.display-as-thumbnails").each(function(e,t){l(".post-feed > .inner",t).on("beforeChange",function(e,t,a,i){var o=l(".slick-slide.slick-active",t.$slideTrack);0==i&&o.next(".slick-cloned").addClass("slick-cloned-active"),i==t.slideCount-1&&o.prev(".slick-cloned").addClass("slick-cloned-active")}).on("afterChange",function(e,t,a){l(".slick-slide.slick-cloned-active",t.$slideTrack).removeClass("slick-cloned-active")})}),l(window).on("load resize orientationchange",function(){var o=l("body").width();l(".wp-block-crown-blocks-recent-posts.display-as-thumbnails").each(function(e,t){var a,i=l(".post-feed > .inner",t);l(t).hasClass("display-as-slider-mobile")&&i.hasClass("slick-initialized")||(576<=o||l(t).hasClass("display-as-slider-mobile")?i.hasClass("slick-initialized")||(a={mobileFirst:!0,draggable:!1,dots:!1,arrows:!0,slidesToShow:1,slidesToScroll:1,centerMode:!0,centerPadding:"25px",prevArrow:'<button type="button" class="slick-prev"><svg class="bi bi-arrow-left-short" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M7.854 4.646a.5.5 0 0 1 0 .708L5.207 8l2.647 2.646a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 0 1 .708 0z"/><path fill-rule="evenodd" d="M4.5 8a.5.5 0 0 1 .5-.5h6.5a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5z"/></svg> <span class="label">Previous</span></button>',nextArrow:'<button type="button" class="slick-next"><span class="label">Next</span> <svg class="bi bi-arrow-right-short" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8.146 4.646a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.793 8 8.146 5.354a.5.5 0 0 1 0-.708z"/><path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5H11a.5.5 0 0 1 0 1H4.5A.5.5 0 0 1 4 8z"/></svg></button>',responsive:[{breakpoint:575,settings:{slidesToShow:2,slidesToScroll:2,centerMode:!1,centerPadding:"0px"}}]},3<=(t=parseInt(l(".post-feed",t).data("item-count")))&&a.responsive.push({breakpoint:991,settings:{slidesToShow:3,slidesToScroll:3,centerMode:!1,centerPadding:"0px"}}),4<=t&&a.responsive.push({breakpoint:1199,settings:{slidesToShow:4,slidesToScroll:4,centerMode:!1,centerPadding:"0px"}}),i.slick(a)):i.hasClass("slick-initialized")&&i.slick("unslick"))})}),l(".wp-block-crown-blocks-testimonial-slider").each(function(e,t){t=l(".testimonial-slider-testimonials > .inner",t);t.hasClass("slick-initialized")||(t.children().wrap("<div></div>"),t.slick({mobileFirst:!0,draggable:!0,dots:!0,arrows:!1,slidesToShow:1,slidesToScroll:1,centerMode:!0,variableWidth:!0,centerPadding:0}),t.on("beforeChange",function(e,t,a,i){var o=l(".slick-slide.slick-active",t.$slideTrack);0==i&&o.next(".slick-cloned").addClass("slick-cloned-active"),i==t.slideCount-1&&o.prev(".slick-cloned").addClass("slick-cloned-active")}).on("afterChange",function(e,t,a){l(".slick-slide.slick-cloned-active",t.$slideTrack).removeClass("slick-cloned-active")}).on("setPosition",function(e,t){var a=l(".slick-slide",t.$slider);a.css({height:"auto"}),a.css({height:t.$slideTrack.height()}),840<=t.$slider.width()?(t.$slider.slick("slickSetOption","variableWidth",!0),t.$slider.removeClass("flush-edge")):(t.$slider.slick("slickSetOption","variableWidth",!1),t.$slider.addClass("flush-edge"))}))}),l(".wp-block-crown-blocks-tabbed-content").each(function(e,t){var a,i=l(".tabbed-content-tabs > .inner",t);i.hasClass("slick-initialized")||(a=l('<div class="slick-slider-nav"></div>'),l(".tabbed-content-tabs",t).before(a),i.children().wrap("<div></div>"),a={mobileFirst:!0,draggable:!1,dots:!0,arrows:!1,fade:!0,appendDots:a,adaptiveHeight:!1,customPaging:function(e,t){var a=l("> .wp-block-crown-blocks-tabbed-content-tab > .inner > .tab-title",e.$slides[t]),e=a?a.text():"",a=l("<button></button");return a.append('<span class="index">'+padNumber(t+1,2)+"<span>"),""!=e&&a.append(' <span class="label">'+e+"<span>"),a.append(' <span class="indicator"><span></span></span>'),a}},i.slick(a))}),l(document).on("mouseenter mousemove",".wp-block-crown-blocks-tabbed-content .slick-slider-nav button",function(e){var t=l(this).parent();t.hasClass("slick-active")||(t=t.index(),l(this).closest(".slick-slider-nav").siblings(".tabbed-content-tabs").children(".slick-slider").slick("slickGoTo",t))}),l(".wp-block-crown-blocks-container-featured-image").each(function(e,t){var a,i=l(".container-featured-image .slider",t);i.hasClass("slick-initialized")||i.children().length<=1||(a=l('<div class="slick-slider-nav"></div>'),l(".container-contents",t).prepend(a),a={mobileFirst:!0,draggable:!1,dots:!0,arrows:!1,fade:!0,autoplay:!0,appendDots:a},i.slick(a))});function e(){l("body").width()<768||l(".wp-block-crown-blocks-container-featured-image.has-wave-overlay .container-contents .slick-slider-nav").each(function(e,t){var t=l(t).closest(".wp-block-crown-blocks-container-featured-image"),o=t.offset().top,s=t.height(),n=t.hasClass("featured-image-left");l(".slick-dots li").each(function(e,t){var a=l(t),i=1-(a.offset().top-o)/s,t=0,t=n?(1-Math.cos(1.4*i*Math.PI))/2*(64/535)*-s-3:(Math.cos(1.4*i*Math.PI)+1)/2*(64/535)*s;a.css({left:t})})})}e(),l(window).on("load",e),l(window).on("resize",e),l(".wp-block-crown-blocks-featured-case-studies article.has-multiple-photos, .wp-block-crown-blocks-case-study-index article.has-multiple-photos").each(function(e,t){t=l(".entry-photos .slider",t);t.hasClass("slick-initialized")||t.slick({mobileFirst:!0,draggable:!1,dots:!1,arrows:!0,fade:!1,autoplay:!1})}),l(".wp-block-crown-blocks-featured-case-study-logos .post-feed").each(function(e,t){t=l("> .inner",t);t.hasClass("slick-initialized")||t.slick({mobileFirst:!0,draggable:!0,dots:!1,arrows:!0,fade:!1,autoplay:!1,slidesToShow:3,slidesToScroll:3,responsive:[{breakpoint:575,settings:{slidesToShow:5,slidesToScroll:5}},{breakpoint:767,settings:{slidesToShow:6,slidesToScroll:6}}]})});function o(e,t){(t=e.$slides.eq(t).data("map-pin"))&&(e=e.$slider.closest(".wp-block-crown-blocks-locations-map"),(e=l(".map-wrapper .map #pins-primary path",e)).removeClass("active"),e.filter("#"+t).addClass("active"))}l(window).on("load resize orientationchange",function(){var i=l("body").width();l(".wp-block-crown-blocks-locations-map").each(function(e,t){var a=l(".locations-wrapper .locations",t);992<=i?a.hasClass("slick-initialized")||(a.on("setPosition",function(e,t){var a=l(".slick-slide",t.$slider);a.css({height:"auto"}),a.css({height:t.$slideTrack.height()})}).on("init",function(e,t){o(t,0)}).on("beforeChange",function(e,t,a,i){o(t,i)}).slick({mobileFirst:!0,draggable:!0,dots:!1,arrows:!0,fade:!1,autoplay:!1}),l(t).on("click",".map-wrapper .map #pins-primary path",function(e){var t=l(this).attr("id"),a=l(this).closest(".wp-block-crown-blocks-locations-map"),a=l(".locations-wrapper .locations",a).slick("getSlick"),t=a.$slides.filter(".map-"+t);t.length&&a.$slider.slick("slickGoTo",t.index()-1)})):a.hasClass("slick-initialized")&&a.slick("unslick")})})},o.initModals=function(){l(document).on("click","a",function(e){var t;l(this).attr("href")&&(matches=l(this).attr("href").match(/^#case-study-modal-(\d+)$/))&&(e.preventDefault(),(t=l(l(this).attr("href")+".modal")).length?t.modal():(e=parseInt(matches[1]),(t=l('<div class="modal fade case-study"><div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-body"></div></div></div></div>')).attr("id","case-study-modal-"+e),t.addClass("loading"),l(".modal-content",t).prepend('<div class="modal-header"><button type="button" class="close" data-dismiss="modal"><span>&times;</span></button></div>'),l(".modal-body",t).html('<div class="spinner-border text-primary" role="status"><span class="sr-only">Loading...</span></div>'),l("body").append(t),t.modal(),l.get(crownThemeData.ajaxUrl,{action:"the_case_study",id:e},function(e){var t=l("#case-study-modal-"+e.id);t.length&&(t.removeClass("loading"),l(".modal-body",t).html(e.html),l("article.has-photos",t).length&&t.addClass("has-photos"),setTimeout(function(){var e;l("article.has-multiple-photos",t).length&&((e=l(".entry-photos .slider",t)).hasClass("slick-initialized")||e.slick({mobileFirst:!0,draggable:!1,dots:!1,arrows:!0,fade:!1,autoplay:!1}))},500),setTimeout(function(){l(window).trigger("resize")},1e3))},"json")))}),l(document).on("click","a",function(e){var t;l(this).attr("href")&&(matches=l(this).attr("href").match(/^#team-member-modal-(\d+)$/))&&(e.preventDefault(),(t=l(l(this).attr("href")+".modal")).length?t.modal():(e=parseInt(matches[1]),(t=l('<div class="modal fade team-member"><div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-body"></div></div></div></div>')).attr("id","team-member-modal-"+e),t.addClass("loading"),l(".modal-content",t).prepend('<div class="modal-header"><button type="button" class="close" data-dismiss="modal"><span>&times;</span></button></div>'),l(".modal-body",t).html('<div class="spinner-border text-primary" role="status"><span class="sr-only">Loading...</span></div>'),l("body").append(t),t.modal(),l.get(crownThemeData.ajaxUrl,{action:"the_team_member",id:e},function(e){var t=l("#team-member-modal-"+e.id);t.length&&(t.removeClass("loading"),l(".modal-body",t).html(e.html))},"json")))})},o.initOdometers=function(){l(".odometer-statistic").each(function(e,t){var a,i,o=l(".stat-value",t);l(t).addClass("fade-in"),o.length&&(matches=o.text().match(/([^\d]*)([\d\.,]+)(.*)/))&&(o.data("odometer-final-value",matches[2]),a=l('<span class="pre">'+matches[1]+"</span>"),i=l('<span class="odometer">'+matches[2]+"</span>"),t=l('<span class="post">'+matches[3]+"</span>"),o.html(""),o.append(a).append(i).append(t),new Odometer({el:i[0],value:"0".padStart(5,0)}))});function e(){var i=l(window).scrollTop(),o=l(window).height();l(".odometer-statistic.fade-in:not(.animated)").each(function(e,t){var a=l(".stat-value",t);a.offset().top<=i+.9*o&&(l(t).addClass("animated"),l(".odometer",a).text(a.data("odometer-final-value")))})}e(),l(window).on("load scroll",e)},o.initSocialSharingLinks=function(){l(document).on("click",".social-sharing-links a",function(e){var t,a,i=l(this).parent();i.parent();i.hasClass("print")?(e.preventDefault(),window.print()):i.is(".facebook, .twitter, .linkedin, .google-plus, .pinterest, .houzz")&&(e.preventDefault(),t=600,a=400,i.hasClass("google-plus")&&(t=512),i.hasClass("pinterest")&&(t=750),i.hasClass("houzz")&&(t=800,a=460),e=screen.height/2-a/2-.1*screen.height,i=screen.width/2-t/2,window.open(l(this).attr("href"),"Share Link","top="+e+",left="+i+",toolbar=0,status=0,width="+t+",height="+a))}),l(window).on("load resize orientationchange",function(){l("body.single #main-article > .social-sharing-links").each(function(e,t){var a=0,i=l("#main-content > .wp-block-crown-blocks-promo.alignfull:first");i.length&&(a=i.outerHeight()),l(t).css({top:a}).addClass("initialized")})})},o.initGatedContent=function(){var e,t=l("#main-gated-content");t.length&&(preview=l(".gated-content-preview",t),(e=l("#main-content > .wp-block-crown-blocks-promo.alignfull:first-child",preview)).length&&t.before(e))},o.initExpandableContent=function(){l(document).on("click",".wp-block-crown-blocks-expandable-content .expandable-content-toggle button",function(){var e=l(this).closest(".wp-block-crown-blocks-expandable-content"),t=l("> .inner > .expandable-content-contents",e);e.css({minHeight:e.outerHeight()}),e.addClass("expanded"),t.css({height:l("> .inner",t).outerHeight()}),setTimeout(function(){t.css({height:"auto"})},500)})},o.initCoreValuesBlocks=function(){l(document).on("mouseenter",".wp-block-crown-blocks-core-values-item",function(e){l(this).closest(".wp-block-crown-blocks-core-values").addClass("value-is-active")}).on("mouseleave",".wp-block-crown-blocks-core-values-item",function(e){l(this).closest(".wp-block-crown-blocks-core-values").removeClass("value-is-active")})},o.initCaseStudyIndexBlocks=function(){l(document).on("change",".wp-block-crown-blocks-case-study-index form.filters select",function(e){l(this).closest("form").trigger("submit")})},o.initTeamMemberIndexBlocks=function(){l(document).on("change",".wp-block-crown-blocks-team-member-index form.filters input[type=radio]",function(e){l(this).closest("form").trigger("submit")}),l(document).on("change",".wp-block-crown-blocks-team-member-index form.filters select",function(e){l(this).closest("form").trigger("submit")})},o.smoothScrollToElement=function(e,t,a){var i;t=void 0!==t?t:1e3,a=void 0!==a?a:0,0<e.length&&(i=parseInt(e.css("margin-top")),o.smoothScrollToPos(e.offset().top-(0<i?i:0),t,a))},o.smoothScrollToPos=function(e,t,a){t=void 0!==t?t:1e3,a=void 0!==a?a:0;l("html, body").stop(!0).animate({scrollTop:+e+a},t,"easeOutExpo")},o)}(jQuery);